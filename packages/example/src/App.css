@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));

@layer components {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
    overscroll-behavior: none;
  }

  .tabs-container {
    --selected-item-width: 0;
    --selected-item-position: 0;
  }
}

@theme {
  /* 定义颜色变量 */
  --color-toast-success: #10b981;
  --color-toast-error: #ef4444;
  --color-toast-warning: #f59e0b;
  --color-toast-info: #3b82f6;
  --shadow-card: 0 4px 20px -2px rgb(0 0 0 / 10%);

  @keyframes toast-in {
    0% {
      opacity: 0;
      transform: translateX(100%);
    }

    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes toast-out {
    0% {
      opacity: 1;
      transform: translateX(0);
    }

    100% {
      opacity: 0;
      transform: translateX(100%);
    }
  }

  @keyframes fade-in-up {
    0% {
      opacity: 0;
      scale: 0.98;
      transform: translateY(4px);
    }

    100% {
      opacity: 1;
      scale: 1;
      transform: translateY(0);
    }
  }

  /* 将关键帧绑定给CSS变量（这是v4使用自定义动画的方式） */
  --animate-fade-in-up: fade-in-up 300ms ease-in-out forwards;
  --animate-toast-in: toast-in 0.3s ease-out forwards;
  --animate-toast-out: toast-out 0.3s ease-in forwards;
}

/* 按钮 */
@utility button-base {
  @apply inline-flex cursor-pointer items-center justify-center gap-1 font-medium transition-all duration-200 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-60;
}

@utility button-danger {
  @apply /* 禁用 hover 颜色变化 */ bg-red-600 text-white shadow-sm hover:bg-red-700 hover:shadow focus-visible:ring-red-500 active:scale-95 active:shadow-none disabled:hover:bg-red-600 disabled:hover:shadow-sm disabled:active:scale-100;
}

@utility button-outline {
  @apply /* 禁用 hover 背景变化 */ border border-gray-300 text-gray-800 hover:bg-gray-100 focus-visible:ring-blue-500 active:scale-95 active:bg-gray-50 disabled:hover:bg-transparent disabled:active:scale-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800 dark:active:bg-gray-800/50 dark:disabled:hover:bg-transparent;
}

@utility button-primary {
  @apply /* 禁用 hover 颜色变化 */ /* 禁用 hover 阴影变化 */ bg-blue-600 text-white shadow-sm hover:bg-blue-700 hover:shadow focus-visible:ring-blue-500 active:scale-95 active:shadow-none disabled:hover:bg-blue-600 disabled:hover:shadow-sm disabled:active:scale-100;
}

@utility button-secondary {
  @apply /* 禁用 hover 颜色变化 */ /* 暗黑模式禁用 hover */ bg-gray-100 text-gray-800 hover:bg-gray-200 focus-visible:ring-gray-500 active:scale-95 active:bg-gray-200 disabled:hover:bg-gray-100 disabled:active:scale-100 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700 dark:active:bg-gray-700 dark:disabled:hover:bg-gray-800;
}

@utility button-success {
  @apply /* 禁用 hover 颜色变化 */ /* 禁用 hover 阴影变化 */ bg-green-600 text-white shadow-sm hover:bg-green-700 hover:shadow focus-visible:ring-green-500 active:scale-95 active:shadow-none disabled:hover:bg-green-600 disabled:hover:shadow-sm disabled:active:scale-100;
}

@utility button-text {
  @apply /* 禁用 hover 背景变化 */ text-blue-600 hover:text-blue-50 focus-visible:ring-blue-500 active:scale-95 active:text-blue-100 disabled:hover:bg-transparent disabled:active:scale-100 dark:text-blue-400 dark:hover:text-blue-900/20 dark:active:text-blue-900/30 dark:disabled:hover:bg-transparent;
}

@utility button-warning {
  @apply /* 禁用 hover 颜色变化 */ /* 禁用 hover 阴影变化 */ bg-amber-600 text-white shadow-sm hover:bg-amber-700 hover:shadow focus-visible:ring-amber-500 active:scale-95 active:shadow-none disabled:hover:bg-amber-600 disabled:hover:shadow-sm disabled:active:scale-100;
}

/* 对话框 */
@utility card-shadow {
  box-shadow: var(--shadow-card);
}

@utility chat-container {
  @apply relative max-w-[80%] rounded-lg px-4 py-3 shadow-sm;
}

@utility chat-content {
  @apply wrap-break-word break-all;
}

@utility chat-corner {
  @apply absolute top-2 h-0 w-0 border-y-4 border-y-transparent;
}

@utility chat-footer {
  @apply mt-1 flex gap-1 text-xs;
}

@utility chat-wrapper {
  @apply mb-4 flex;
}

/* 滚动条 */
@utility scrollbar {
  @apply absolute right-0 bottom-0 left-0;
}

@utility scrollbar-thumb {
  @apply absolute rounded-full bg-black/20;
}

@utility scrollbar-track {
  @apply invisible absolute right-0 bottom-0 cursor-pointer transition-[background_0.2s];
}

/* 消息框 */
@utility toast-base {
  @apply inline-flex max-w-sm cursor-pointer items-start gap-2 rounded-lg px-4 py-3 text-left text-white shadow-lg transition-all duration-300;
}

@utility toast-close {
  @apply text-sm transition-opacity hover:opacity-80;
}

@utility toast-container {
  @apply pointer-events-none fixed top-4 right-4 z-50 flex flex-col gap-3;
}

@utility toast-content {
  @apply flex-1 text-sm font-medium wrap-break-word break-all;
}

@utility toast-icon {
  @apply pt-0.5 text-center text-xl;
}

body {
  margin: 0;
  color: #fff;
  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;
  background-color: #020917;
}
